this.Hull=this.Hull||{},this.Hull.templates=this.Hull.templates||{},this.Hull.templates._default=this.Hull.templates._default||{},Hull.templates._default["quiz/fields/checkboxes"]=function(t,e,a,n,i){function l(t,e,n){var i,l,r="";return r+="\n<div>\n  <label class='fb-option'>\n    <input type='checkbox' name=\""+c((i=n&&n.name,typeof i===p?i.apply(t):i))+'[]" value="',(l=a.label)?i=l.call(t,{hash:{},data:e}):(l=t&&t.label,i=typeof l===p?l.call(t,{hash:{},data:e}):l),r+=c(i)+'" ',i=a["if"].call(t,t&&t.selected,{hash:{},inverse:d.noop,fn:d.program(2,s,e),data:e}),(i||0===i)&&(r+=i),r+=" ",i=a["if"].call(t,t&&t.required,{hash:{},inverse:d.noop,fn:d.program(4,o,e),data:e}),(i||0===i)&&(r+=i),r+=" />\n    ",(l=a.label)?i=l.call(t,{hash:{},data:e}):(l=t&&t.label,i=typeof l===p?l.call(t,{hash:{},data:e}):l),r+=c(i)+"\n  </label>\n</div>\n"}function s(){return"checked"}function o(){return'data-parsley-maxcheck="1"'}function r(t,e){var n,i,l="";return l+="\n<div class='other-option'>\n  <label class='fb-option'>\n    <input type='checkbox' name=\"",(i=a.name)?n=i.call(t,{hash:{},data:e}):(i=t&&t.name,n=typeof i===p?i.call(t,{hash:{},data:e}):i),l+=c(n)+'[]" value="other" ',n=a["if"].call(t,t&&t.other_value,{hash:{},inverse:d.noop,fn:d.program(2,s,e),data:e}),(n||0===n)&&(l+=n),l+=" />\n    Other\n  </label>\n\n  <input type='text' name=\"",(i=a.name)?n=i.call(t,{hash:{},data:e}):(i=t&&t.name,n=typeof i===p?i.call(t,{hash:{},data:e}):i),l+=c(n)+'_other_value" value="',(i=a.other_value)?n=i.call(t,{hash:{},data:e}):(i=t&&t.other_value,n=typeof i===p?i.call(t,{hash:{},data:e}):i),l+=c(n)+'" />\n</div>\n'}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var u,h="",p="function",c=this.escapeExpression,d=this;return u=a.each.call(e,(u=e&&e.field_options,null==u||u===!1?u:u.options),{hash:{},inverse:d.noop,fn:d.programWithDepth(1,l,i,e),data:i}),(u||0===u)&&(h+=u),h+="\n\n",u=a["if"].call(e,(u=e&&e.field_options,null==u||u===!1?u:u.include_other_option),{hash:{},inverse:d.noop,fn:d.program(6,r,i),data:i}),(u||0===u)&&(h+=u),h+="\n"},Hull.templates._default["quiz/fields/date"]=function(t,e,a,n,i){function l(){return"required"}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var s,o,r,u="",h="function",p=this.escapeExpression,c=this,d=a.blockHelperMissing;return u+='<input id="',(o=a.input_id)?s=o.call(e,{hash:{},data:i}):(o=e&&e.input_id,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+"\" type='date' name='",(o=a.name)?s=o.call(e,{hash:{},data:i}):(o=e&&e.name,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+"'\n  ",r={hash:{},inverse:c.noop,fn:c.program(1,l,i),data:i},(o=a.required)?s=o.call(e,r):(o=e&&e.required,s=typeof o===h?o.call(e,r):o),a.required||(s=d.call(e,s,{hash:{},inverse:c.noop,fn:c.program(1,l,i),data:i})),(s||0===s)&&(u+=s),u+='\n  value="',(o=a.value)?s=o.call(e,{hash:{},data:i}):(o=e&&e.value,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+'"\n/>\n'},Hull.templates._default["quiz/fields/dropdown"]=function(t,e,a,n,i){function l(t,e,n){var i,l,o,r="";return r+='\n      <option value="'+p(typeof t===h?t.apply(t):t)+'" ',l=a.ifEqual||t&&t.ifEqual,o={hash:{},inverse:c.noop,fn:c.program(2,s,e),data:e},i=l?l.call(t,t,n&&n.value,o):d.call(t,"ifEqual",t,n&&n.value,o),(i||0===i)&&(r+=i),r+=">\n        "+p(typeof t===h?t.apply(t):t)+"\n      </option>\n    "}function s(){return"selected"}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var o,r,u="",h="function",p=this.escapeExpression,c=this,d=a.helperMissing;return u+='<div class="dropdown">\n  <select name="',(r=a.name)?o=r.call(e,{hash:{},data:i}):(r=e&&e.name,o=typeof r===h?r.call(e,{hash:{},data:i}):r),u+=p(o)+'" id="profile-form-field-',(r=a.name)?o=r.call(e,{hash:{},data:i}):(r=e&&e.name,o=typeof r===h?r.call(e,{hash:{},data:i}):r),u+=p(o)+'">\n    ',o=a.each.call(e,e&&e["enum"],{hash:{},inverse:c.noop,fn:c.programWithDepth(1,l,i,e),data:i}),(o||0===o)&&(u+=o),u+="\n  </select>\n</div>\n"},Hull.templates._default["quiz/fields/email"]=function(t,e,a,n,i){function l(){return"required"}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var s,o,r,u="",h="function",p=this.escapeExpression,c=this,d=a.blockHelperMissing;return u+='<input id="profile-form-field-',(o=a.name)?s=o.call(e,{hash:{},data:i}):(o=e&&e.name,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+"\" type='email' name='",(o=a.name)?s=o.call(e,{hash:{},data:i}):(o=e&&e.name,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+"'\n  ",r={hash:{},inverse:c.noop,fn:c.program(1,l,i),data:i},(o=a.required)?s=o.call(e,r):(o=e&&e.required,s=typeof o===h?o.call(e,r):o),a.required||(s=d.call(e,s,{hash:{},inverse:c.noop,fn:c.program(1,l,i),data:i})),(s||0===s)&&(u+=s),u+='\n  value="',(o=a.value)?s=o.call(e,{hash:{},data:i}):(o=e&&e.value,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+'"\n  placeholder="',(o=a.placeholder)?s=o.call(e,{hash:{},data:i}):(o=e&&e.placeholder,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+'"\n/>\n'},Hull.templates._default["quiz/fields/number"]=function(t,e,a,n,i){function l(t){var e,a="";return a+='min="'+d((e=t&&t.field_options,e=null==e||e===!1?e:e.min,typeof e===c?e.apply(t):e))+'"'}function s(t){var e,a="";return a+='max="'+d((e=t&&t.field_options,e=null==e||e===!1?e:e.max,typeof e===c?e.apply(t):e))+'"'}function o(){return'data-parsley-type="integer"'}function r(t){var e,a="";return a+='\n    <span class="add-on input-group-addon">'+d((e=t&&t.field_options,e=null==e||e===!1?e:e.units,typeof e===c?e.apply(t):e))+"</span>\n  "}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var u,h,p="",c="function",d=this.escapeExpression,f=this;return p+='<span class="input-group input-append">\n\n  <input type=\'text\' name="',(h=a.name)?u=h.call(e,{hash:{},data:i}):(h=e&&e.name,u=typeof h===c?h.call(e,{hash:{},data:i}):h),p+=d(u)+'" value="',(h=a.value)?u=h.call(e,{hash:{},data:i}):(h=e&&e.value,u=typeof h===c?h.call(e,{hash:{},data:i}):h),p+=d(u)+'"  class="form-control"\n    ',u=a["if"].call(e,(u=e&&e.field_options,null==u||u===!1?u:u.min),{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i}),(u||0===u)&&(p+=u),p+=" \n    ",u=a["if"].call(e,(u=e&&e.field_options,null==u||u===!1?u:u.max),{hash:{},inverse:f.noop,fn:f.program(3,s,i),data:i}),(u||0===u)&&(p+=u),p+=" \n    ",u=a["if"].call(e,(u=e&&e.field_options,null==u||u===!1?u:u.integer_only),{hash:{},inverse:f.noop,fn:f.program(5,o,i),data:i}),(u||0===u)&&(p+=u),p+='\n    data-parsley-trigger="change"\n    data-parsley-errors-container="#parsley-errors-',(h=a.input_id)?u=h.call(e,{hash:{},data:i}):(h=e&&e.input_id,u=typeof h===c?h.call(e,{hash:{},data:i}):h),p+=d(u)+'"\n  /> \n  ',u=a["if"].call(e,(u=e&&e.field_options,null==u||u===!1?u:u.units),{hash:{},inverse:f.noop,fn:f.program(7,r,i),data:i}),(u||0===u)&&(p+=u),p+='\n</span>\n\n<span id="parsley-errors-',(h=a.input_id)?u=h.call(e,{hash:{},data:i}):(h=e&&e.input_id,u=typeof h===c?h.call(e,{hash:{},data:i}):h),p+=d(u)+'"></span>\n'},Hull.templates._default["quiz/fields/paragraph"]=function(t,e,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var l,s,o="",r="function",u=this.escapeExpression;return o+='<textarea id="',(s=a.input_id)?l=s.call(e,{hash:{},data:i}):(s=e&&e.input_id,l=typeof s===r?s.call(e,{hash:{},data:i}):s),o+=u(l)+'" name="',(s=a.name)?l=s.call(e,{hash:{},data:i}):(s=e&&e.name,l=typeof s===r?s.call(e,{hash:{},data:i}):s),o+=u(l)+'">',(s=a.value)?l=s.call(e,{hash:{},data:i}):(s=e&&e.value,l=typeof s===r?s.call(e,{hash:{},data:i}):s),o+=u(l)+"</textarea>\n"},Hull.templates._default["quiz/fields/radio"]=function(t,e,a,n,i){function l(t,e,n){var i,l,o="";return o+="\n<div>\n  <label class='fb-option'>\n    <input type='radio' name=\""+p((i=n&&n.name,typeof i===h?i.apply(t):i))+'" value="',(l=a.label)?i=l.call(t,{hash:{},data:e}):(l=t&&t.label,i=typeof l===h?l.call(t,{hash:{},data:e}):l),o+=p(i)+'" ',i=a["if"].call(t,t&&t.selected,{hash:{},inverse:c.noop,fn:c.program(2,s,e),data:e}),(i||0===i)&&(o+=i),o+=" />\n    ",(l=a.label)?i=l.call(t,{hash:{},data:e}):(l=t&&t.label,i=typeof l===h?l.call(t,{hash:{},data:e}):l),o+=p(i)+"\n  </label>\n</div>\n"}function s(){return"checked"}function o(t,e){var n,i,l,o="";return o+="\n<div class='other-option'>\n  <label class='fb-option'>\n    <input type='radio' name=\"",(i=a.name)?n=i.call(t,{hash:{},data:e}):(i=t&&t.name,n=typeof i===h?i.call(t,{hash:{},data:e}):i),o+=p(n)+'" value="other" ',i=a.ifEqual||t&&t.ifEqual,l={hash:{},inverse:c.noop,fn:c.program(2,s,e),data:e},n=i?i.call(t,t&&t.value,"other",l):d.call(t,"ifEqual",t&&t.value,"other",l),(n||0===n)&&(o+=n),o+=" />\n    Other\n  </label>\n\n  <input type='text' name=\"",(i=a.name)?n=i.call(t,{hash:{},data:e}):(i=t&&t.name,n=typeof i===h?i.call(t,{hash:{},data:e}):i),o+=p(n)+'_other_value" value="',(i=a.other_value)?n=i.call(t,{hash:{},data:e}):(i=t&&t.other_value,n=typeof i===h?i.call(t,{hash:{},data:e}):i),o+=p(n)+'" />\n</div>\n'}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var r,u="",h="function",p=this.escapeExpression,c=this,d=a.helperMissing;return r=a.each.call(e,(r=e&&e.field_options,null==r||r===!1?r:r.options),{hash:{},inverse:c.noop,fn:c.programWithDepth(1,l,i,e),data:i}),(r||0===r)&&(u+=r),u+="\n\n",r=a["if"].call(e,(r=e&&e.field_options,null==r||r===!1?r:r.include_other_option),{hash:{},inverse:c.noop,fn:c.program(4,o,i),data:i}),(r||0===r)&&(u+=r),u+="\n"},Hull.templates._default["quiz/fields/text"]=function(t,e,a,n,i){function l(){return"required"}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var s,o,r,u="",h="function",p=this.escapeExpression,c=this,d=a.blockHelperMissing;return u+='<input id="profile-form-field-',(o=a.name)?s=o.call(e,{hash:{},data:i}):(o=e&&e.name,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+"\" type='text' name='",(o=a.name)?s=o.call(e,{hash:{},data:i}):(o=e&&e.name,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+"'\n  ",r={hash:{},inverse:c.noop,fn:c.program(1,l,i),data:i},(o=a.required)?s=o.call(e,r):(o=e&&e.required,s=typeof o===h?o.call(e,r):o),a.required||(s=d.call(e,s,{hash:{},inverse:c.noop,fn:c.program(1,l,i),data:i})),(s||0===s)&&(u+=s),u+='\n  value="',(o=a.value)?s=o.call(e,{hash:{},data:i}):(o=e&&e.value,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+'"\n/>\n'},Hull.templates._default["quiz/fields/website"]=function(t,e,a,n,i){function l(){return"required"}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var s,o,r,u="",h="function",p=this.escapeExpression,c=this,d=a.blockHelperMissing;return u+='<input  id="',(o=a.input_id)?s=o.call(e,{hash:{},data:i}):(o=e&&e.input_id,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+"\" type='url' name='",(o=a.name)?s=o.call(e,{hash:{},data:i}):(o=e&&e.name,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+'\' class="form-control" ',r={hash:{},inverse:c.noop,fn:c.program(1,l,i),data:i},(o=a.required)?s=o.call(e,r):(o=e&&e.required,s=typeof o===h?o.call(e,r):o),a.required||(s=d.call(e,s,{hash:{},inverse:c.noop,fn:c.program(1,l,i),data:i})),(s||0===s)&&(u+=s),u+=' value="',(o=a.value)?s=o.call(e,{hash:{},data:i}):(o=e&&e.value,s=typeof o===h?o.call(e,{hash:{},data:i}):o),u+=p(s)+'" placeholder="http://"/>'},Hull.templates._default["quiz/footer"]=function(t,e,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var l,s="",o="function",r=this.escapeExpression;return s+='<footer class="footer">\n  <p>By playing, you agree to <a href="#">'+r((l=e&&e.org,l=null==l||l===!1?l:l.name,typeof l===o?l.apply(e):l))+'\'s Privacy Policy</a> and <a href="#">'+r((l=e&&e.org,l=null==l||l===!1?l:l.name,typeof l===o?l.apply(e):l))+'\'s Terms of Service</a>.</p>\n  <p>\n    <a data-hull-action="share" data-hull-provider="facebook">Share on Facebook</a>\n    <a data-hull-action="share" data-hull-provider="twitter">Share on Twitter</a>\n  </p>\n</footer>\n'},Hull.templates._default["quiz/header"]=function(t,e,a,n,i){function l(t){var e,a="";return a+='\n    <img class="logo" src="'+u((e=t&&t.state,e=null==e||e===!1?e:e.options,e=null==e||e===!1?e:e.logo_image,typeof e===r?e.apply(t):e))+'" alt="'+u((e=t&&t.quiz,e=null==e||e===!1?e:e.name,typeof e===r?e.apply(t):e))+'">\n  '}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),n=this.merge(n,t.partials),i=i||{};var s,o="",r="function",u=this.escapeExpression,h=this;return s=h.invokePartial(n["quiz/styles"],"quiz/styles",e,a,n,i),(s||0===s)&&(o+=s),o+='\n\n<div class="header">\n  ',s=a["if"].call(e,(s=e&&e.state,s=null==s||s===!1?s:s.options,null==s||s===!1?s:s.logo_image),{hash:{},inverse:h.noop,fn:h.program(1,l,i),data:i}),(s||0===s)&&(o+=s),o+="\n</div>\n\n"},Hull.templates._default["quiz/intro"]=function(t,e,a,n,i){function l(t,e){var i,l="";return l+="\n  ",i=c.invokePartial(n["quiz/result"],"quiz/result",t,a,n,e),(i||0===i)&&(l+=i),l+="\n"}function s(t,e){var n,i,l,s="";return s+='\n  <div class="row experience experience-intro">\n    <div class="large-12 columns">\n      <h1>'+f((i=a.t||t&&t.t,l={hash:{},data:e},i?i.call(t,"intro_title",l):d.call(t,"t","intro_title",l)))+"</h1>\n      <p>"+f((i=a.t||t&&t.t,l={hash:{},data:e},i?i.call(t,"intro_description",l):d.call(t,"t","intro_description",l)))+"</p>\n\n      ",n=a["if"].call(t,t&&t.loggedIn,{hash:{},inverse:c.program(6,r,e),fn:c.program(4,o,e),data:e}),(n||0===n)&&(s+=n),s+="\n    </div>\n  </div>\n"}function o(t,e){var n,i,l="";return l+='\n        <a class="button" role="button" data-hull-action="start">'+f((n=a.t||t&&t.t,i={hash:{},data:e},n?n.call(t,"Start",i):d.call(t,"t","Start",i)))+"</a>\n      "}function r(t,e){var n,i="";return i+='\n        <div class="social-login">\n          ',n=a.each.call(t,t&&t.authServices,{hash:{},inverse:c.noop,fn:c.program(7,u,e),data:e}),(n||0===n)&&(i+=n),i+="\n        </div>\n      "}function u(t,e){var n,i,l,s="";return s+='\n            <a role="button" data-hull-action="start" data-hull-provider="'+f((n=null==e||e===!1?e:e.key,typeof n===m?n.apply(t):n))+'" class="button social-btn social-btn-'+f((n=null==e||e===!1?e:e.key,typeof n===m?n.apply(t):n))+'">\n              '+f((i=a.t||t&&t.t,l={hash:{},data:e},i?i.call(t,"Login and play with",l):d.call(t,"t","Login and play with",l)))+" "+f((i=a.humanize||t&&t.humanize,l={hash:{},data:e},i?i.call(t,null==e||e===!1?e:e.key,l):d.call(t,"humanize",null==e||e===!1?e:e.key,l)))+"\n            </a>\n          "}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),n=this.merge(n,t.partials),i=i||{};var h,p="",c=this,d=a.helperMissing,f=this.escapeExpression,m="function";return h=c.invokePartial(n["quiz/header"],"quiz/header",e,a,n,i),(h||0===h)&&(p+=h),p+="\n\n",h=a["if"].call(e,e&&e.badge,{hash:{},inverse:c.program(3,s,i),fn:c.program(1,l,i),data:i}),(h||0===h)&&(p+=h),p+="\n\n",h=c.invokePartial(n["quiz/footer"],"quiz/footer",e,a,n,i),(h||0===h)&&(p+=h),p+="\n"},Hull.templates._default["quiz/profile-form"]=function(t,e,a,n,i){function l(t,e){var n,i,l,s="";return s+='\n      <div class="field ',(i=a.field_type)?n=i.call(t,{hash:{},data:e}):(i=t&&t.field_type,n=typeof i===h?i.call(t,{hash:{},data:e}):i),s+=p(n)+'">\n        <label for="profile-form-field-',(i=a.name)?n=i.call(t,{hash:{},data:e}):(i=t&&t.name,n=typeof i===h?i.call(t,{hash:{},data:e}):i),s+=p(n)+'">',(i=a.title)?n=i.call(t,{hash:{},data:e}):(i=t&&t.title,n=typeof i===h?i.call(t,{hash:{},data:e}):i),s+=p(n)+"</label>\n        ",i=a.formField||t&&t.formField,l={hash:{},data:e},n=i?i.call(t,t,l):c.call(t,"formField",t,l),(n||0===n)&&(s+=n),s+="\n      </div>\n    "}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var s,o,r,u="",h="function",p=this.escapeExpression,c=a.helperMissing,d=this;return u+='<form class="profile-form" data-action="profile">\n  <div class="fields">\n    ',s=a.each.call(e,e&&e.profileFormFields,{hash:{},inverse:d.noop,fn:d.program(1,l,i),data:i}),(s||0===s)&&(u+=s),u+='\n  </div>\n\n  <button class="button" type="submit">\n    '+p((o=a.t||e&&e.t,r={hash:{},data:i},o?o.call(e,"Save my profile",r):c.call(e,"t","Save my profile",r)))+"\n  </button>\n</form>\n"},Hull.templates._default["quiz/question"]=function(t,e,a,n,i){function l(){return'\n      <div class="progress round">\n        <span class="meter" data-hull-quiz-ticker style="width: 100%;"></span>\n      </div>\n    '}function s(t,e){var n,i,l="";return l+='\n      <div class="question">\n        <h1>',(i=a.name)?n=i.call(t,{hash:{},data:e}):(i=t&&t.name,n=typeof i===b?i.call(t,{hash:{},data:e}):i),l+=q(n)+"</h1>\n        ",n=a["if"].call(t,t&&t.description,{hash:{},inverse:x.noop,fn:x.program(4,o,e),data:e}),(n||0===n)&&(l+=n),l+="\n      </div>\n    "}function o(t,e){var n,i,l="";return l+="\n          <p>",(i=a.description)?n=i.call(t,{hash:{},data:e}):(i=t&&t.description,n=typeof i===b?i.call(t,{hash:{},data:e}):i),l+=q(n)+"</p>\n        "}function r(){return'\n      <div class="progress round">\n        <span class="meter" data-hull-question-ticker style="width: 100%;"></span>\n      </div>\n    '}function u(t,e){var n,i,l,s="";return s+="\n        ",n=a["if"].call(t,t&&t.picture,{hash:{},inverse:x.noop,fn:x.program(9,h,e),data:e}),(n||0===n)&&(s+=n),s+='\n\n        <div class="answers">\n        ',l={hash:{},inverse:x.noop,fn:x.programWithDepth(11,p,e,t),data:e},(i=a.answers)?n=i.call(t,l):(i=t&&t.answers,n=typeof i===b?i.call(t,l):i),a.answers||(n=k.call(t,n,{hash:{},inverse:x.noop,fn:x.programWithDepth(11,p,e,t),data:e})),(n||0===n)&&(s+=n),s+="\n        </div>\n      "}function h(t,e){var n,i,l="";return l+='\n          <img src="',(i=a.picture)?n=i.call(t,{hash:{},data:e}):(i=t&&t.picture,n=typeof i===b?i.call(t,{hash:{},data:e}):i),l+=q(n)+'" width="100%" />\n        '}function p(t,e,n){var i,l,s="";return s+='\n          <a href="#" data-hull-action="answer" class="answer" data-hull-answer-ref="',(l=a.ref)?i=l.call(t,{hash:{},data:e}):(l=t&&t.ref,i=typeof l===b?l.call(t,{hash:{},data:e}):l),s+=q(i)+'" data-hull-question-ref="'+q((i=n&&n.ref,typeof i===b?i.apply(t):i))+'">\n            <h4>',(l=a.name)?i=l.call(t,{hash:{},data:e}):(l=t&&t.name,i=typeof l===b?l.call(t,{hash:{},data:e}):l),s+=q(i)+"</h4>\n            ",i=a["if"].call(t,t&&t.description,{hash:{},inverse:x.noop,fn:x.program(12,c,e),data:e}),(i||0===i)&&(s+=i),s+="\n          </a>\n        "}function c(t,e){var n,i,l="";return l+="\n              <p>",(i=a.description)?n=i.call(t,{hash:{},data:e}):(i=t&&t.description,n=typeof i===b?i.call(t,{hash:{},data:e}):i),l+=q(n)+"</p>\n            "}function d(t,e){var n,i="";return i+='\n      <div class="pagination-centered">\n        <ul class="pagination" role="menubar" aria-label="Pagination">\n          ',n=a["if"].call(t,(n=t&&t.question,n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.previous),{hash:{},inverse:x.noop,fn:x.program(15,f,e),data:e}),(n||0===n)&&(i+=n),i+="\n          ",n=a["if"].call(t,(n=t&&t.question,n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.next),{hash:{},inverse:x.noop,fn:x.program(17,m,e),data:e}),(n||0===n)&&(i+=n),i+="\n        </ul>\n      </div>\n    "}function f(t,e){var n,i,l="";return l+='\n            <li class="arrow"><a href="#" data-hull-action="previous">&laquo; '+q((n=a.t||t&&t.t,i={hash:{},data:e},n?n.call(t,"Previous",i):z.call(t,"t","Previous",i)))+"</a></li>\n          "}function m(t,e){var n,i,l="";return l+='\n            <li class="arrow"><a href="#" data-hull-action="next">'+q((n=a.t||t&&t.t,i={hash:{},data:e},n?n.call(t,"Next",i):z.call(t,"t","Next",i)))+" &raquo;</a></li>\n          "}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),n=this.merge(n,t.partials),i=i||{};var v,g,y,_="",b="function",q=this.escapeExpression,x=this,k=a.blockHelperMissing,z=a.helperMissing;return v=x.invokePartial(n["quiz/header"],"quiz/header",e,a,n,i),(v||0===v)&&(_+=v),_+='\n\n<div class="row experience experience-question">\n  <div class="large-12">\n    ',v=a["if"].call(e,(v=e&&e.state,v=null==v||v===!1?v:v.options,null==v||v===!1?v:v.quiz_timer),{hash:{},inverse:x.noop,fn:x.program(1,l,i),data:i}),(v||0===v)&&(_+=v),_+="\n\n    ",y={hash:{},inverse:x.noop,fn:x.program(3,s,i),data:i},(g=a.question)?v=g.call(e,y):(g=e&&e.question,v=typeof g===b?g.call(e,y):g),a.question||(v=k.call(e,v,{hash:{},inverse:x.noop,fn:x.program(3,s,i),data:i})),(v||0===v)&&(_+=v),_+="\n\n    ",v=a["if"].call(e,(v=e&&e.state,v=null==v||v===!1?v:v.options,null==v||v===!1?v:v.question_timer),{hash:{},inverse:x.noop,fn:x.program(6,r,i),data:i}),(v||0===v)&&(_+=v),_+='\n\n    <div data-hull-question="',(g=a.ref)?v=g.call(e,{hash:{},data:i}):(g=e&&e.ref,v=typeof g===b?g.call(e,{hash:{},data:i}):g),_+=q(v)+'">\n      ',y={hash:{},inverse:x.noop,fn:x.program(8,u,i),data:i},(g=a.question)?v=g.call(e,y):(g=e&&e.question,v=typeof g===b?g.call(e,y):g),a.question||(v=k.call(e,v,{hash:{},inverse:x.noop,fn:x.program(8,u,i),data:i})),(v||0===v)&&(_+=v),_+="\n    </div>\n\n    ",v=a["if"].call(e,(v=e&&e.state,v=null==v||v===!1?v:v.options,null==v||v===!1?v:v.display_pagination),{hash:{},inverse:x.noop,fn:x.program(14,d,i),data:i}),(v||0===v)&&(_+=v),_+="\n  </div>\n</div>\n\n",v=x.invokePartial(n["quiz/footer"],"quiz/footer",e,a,n,i),(v||0===v)&&(_+=v),_+="\n"},Hull.templates._default["quiz/result"]=function(t,e,a,n,i){function l(t,e){var n,i,l,s="";return s+="\n      <h1>"+h((i=a.t||t&&t.t,l={hash:{},data:e},i?i.call(t,"Bravo",l):u.call(t,"t","Bravo",l)))+"</h1>\n      <p>\n        ",(i=a.score)?n=i.call(t,{hash:{},data:e}):(i=t&&t.score,n=typeof i===p?i.call(t,{hash:{},data:e}):i),s+=h(n)+" "+h((i=a.t||t&&t.t,l={hash:{},data:e},i?i.call(t,"points",l):u.call(t,"t","points",l)))+" "+h((i=a.t||t&&t.t,l={hash:{},data:e},i?i.call(t,"after",l):u.call(t,"t","after",l)))+" "+h((n=t&&t.stats,n=null==n||n===!1?n:n.attempts,typeof n===p?n.apply(t):n))+" "+h((i=a.t||t&&t.t,l={hash:{},data:e},i?i.call(t,"attempts",l):u.call(t,"t","attempts",l)))+"\n        <a href=\"#\" data-hull-action='replay'>"+h((i=a.t||t&&t.t,l={hash:{},data:e},i?i.call(t,"Replay",l):u.call(t,"t","Replay",l)))+"</a> or\n        complete your profile.\n      </p>\n    "}function s(t,e){var i,l="";return l+="\n      ",i=c.invokePartial(n["quiz/profile-form"],"quiz/profile-form",t,a,n,e),(i||0===i)&&(l+=i),l+="\n    "}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),n=this.merge(n,t.partials),i=i||{};var o,r="",u=a.helperMissing,h=this.escapeExpression,p="function",c=this,d=a.blockHelperMissing;return o=c.invokePartial(n["quiz/header"],"quiz/header",e,a,n,i),(o||0===o)&&(r+=o),r+='\n\n<div class="row experience experience-result">\n  <div class="large-12">\n    ',o=e&&e.state,o=null==o||o===!1?o:o.badge,o=typeof o===p?o.apply(e):o,o=d.call(e,o,{hash:{},inverse:c.noop,fn:c.program(1,l,i),data:i}),(o||0===o)&&(r+=o),r+="\n\n    ",o=a["if"].call(e,e&&e.profileFormFields,{hash:{},inverse:c.noop,fn:c.program(3,s,i),data:i}),(o||0===o)&&(r+=o),r+="\n  </div>\n</div>\n\n",o=c.invokePartial(n["quiz/footer"],"quiz/footer",e,a,n,i),(o||0===o)&&(r+=o),r+="\n"},Hull.templates._default["quiz/styles"]=function(t,e,a,n,i){function l(t){var e,a="";return a+='\n  <link rel="stylesheet" href="'+u((e=t&&t.ship,e=null==e||e===!1?e:e.config,e=null==e||e===!1?e:e.appearance,e=null==e||e===!1?e:e.stylesheet_url,typeof e===r?e.apply(t):e))+'">\n'}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),i=i||{};var s,o="",r="function",u=this.escapeExpression,h=this;return s=a["if"].call(e,(s=e&&e.ship,s=null==s||s===!1?s:s.config,s=null==s||s===!1?s:s.appearance,null==s||s===!1?s:s.stylesheet_url),{hash:{},inverse:h.noop,fn:h.program(1,l,i),data:i}),(s||0===s)&&(o+=s),o+="\n\n<style>\n\nbody {\n  color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.text_color,typeof s===r?s.apply(e):s))+";\n  color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.text_color_alpha,typeof s===r?s.apply(e):s))+";\n  background-color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.background_color,typeof s===r?s.apply(e):s))+";\n}\n\na {\n  color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.text_color,typeof s===r?s.apply(e):s))+";\n  color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.text_color_alpha,typeof s===r?s.apply(e):s))+";\n}\n\nh1, h2, h3, h4, h5, h6, a:hover, a:active {\n  color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.text_color,typeof s===r?s.apply(e):s))+";\n}\n\n.main {\n  background: linear-gradient(to bottom,\n  "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.background_color_alpha,typeof s===r?s.apply(e):s))+" 60%, "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.background_color,typeof s===r?s.apply(e):s))+" 100%);\n}\n\n.button, .button:hover, .button:focus {\n  color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.button_text_color,typeof s===r?s.apply(e):s))+";\n  background-color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.button_background_color,typeof s===r?s.apply(e):s))+'\n}\n\n.main::after {\n  content: "";\n  background: url('+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.background_image,typeof s===r?s.apply(e):s))+");\n  background-position: top center;\n  background-size: cover;\n  opacity: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.background_image_opacity,typeof s===r?s.apply(e):s))+";\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  position: absolute;\n  z-index: -1;\n  -webkit-filter: blur("+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.background_image_blur,typeof s===r?s.apply(e):s))+"px);\n  -moz-filter: blur("+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.background_image_blur,typeof s===r?s.apply(e):s))+"px);\n  -o-filter: blur("+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.background_image_blur,typeof s===r?s.apply(e):s))+"px);\n  -ms-filter: blur("+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.background_image_blur,typeof s===r?s.apply(e):s))+"px);\n  filter: blur("+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.background_image_blur,typeof s===r?s.apply(e):s))+"px);\n}\n\n.answer {\n  background: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.answer_background_color,typeof s===r?s.apply(e):s))+";\n  border: 1px solid "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.answer_border_color,typeof s===r?s.apply(e):s))+";\n}\n\n.answer:hover,\n.answer:focus {\n  background: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.answer_background_color_active,typeof s===r?s.apply(e):s))+";\n  border: 1px solid "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.answer_border_color_active,typeof s===r?s.apply(e):s))+";\n  box-shadow: 0 0 10px "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.answer_border_color_active,typeof s===r?s.apply(e):s))+";\n}\n\nul.pagination li a {\n  color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.text_color,typeof s===r?s.apply(e):s))+";\n  text-decoration: none;\n}\n\nul.pagination li:hover a {\n  color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.button_text_color,typeof s===r?s.apply(e):s))+";\n  background-color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.button_background_color,typeof s===r?s.apply(e):s))+"\n}\n\n.progress {\n  background: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.answer_background_color,typeof s===r?s.apply(e):s))+";\n}\n\n.progress .meter {\n  background-color: "+u((s=e&&e.state,s=null==s||s===!1?s:s.options,s=null==s||s===!1?s:s.button_background_color,typeof s===r?s.apply(e):s))+"\n}\n\n</style>\n"},Hull.templates._default["quiz/thanks"]=function(t,e,a,n,i){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),n=this.merge(n,t.partials),i=i||{};var l,s,o,r="",u=this,h=a.helperMissing,p=this.escapeExpression;return l=u.invokePartial(n["quiz/header"],"quiz/header",e,a,n,i),(l||0===l)&&(r+=l),r+='\n\n<div class="row experience experience-thanks">\n  <div class="large-12">\n    <h1>'+p((s=a.t||e&&e.t,o={hash:{},data:i},s?s.call(e,"thanks_title",o):h.call(e,"t","thanks_title",o)))+"</h1>\n    <p>"+p((s=a.t||e&&e.t,o={hash:{},data:i},s?s.call(e,"thanks_descriptions",o):h.call(e,"t","thanks_descriptions",o)))+"</p>\n  </div>\n</div>\n\n",l=u.invokePartial(n["quiz/footer"],"quiz/footer",e,a,n,i),(l||0===l)&&(r+=l),r+="\n"},Hull.component({templates:["intro","question","result","profile-form","header","footer","styles","thanks","fields/text","fields/date","fields/number","fields/dropdown","fields/paragraph","fields/radio","fields/checkboxes","fields/website","fields/email"],refreshEvents:["model.hull.me.change"],require:["i18n","parsley"],defaultOptions:{sample_questions:!1,auto_start:!1,auto_next:!1,shuffle_answers:!0,question_timer:0,quiz_timer:0},datasources:{ship:function(){return this.api.model("app")}},events:{'submit form[data-action="profile"]':function(t){t.preventDefault();var e=(this.sandbox.util._,this),a=this.profileForm,n=this.sandbox.dom.getFormData(t.target);this.disableForm();var i=this.api.put(a.id+"/submit",{data:n});i.then(function(t){e.ship.resources["profile-form"]=t,e.profileForm=t,e.renderSection("thanks")},function(t){e.enableForm(),e.alertMessage(t.message)})}},alertMessage:function(t){var e=this.$(".alert-message");t?(e.html(t),e.show()):e.hide()},actions:{share:function(t,e){t&&t.preventDefault();var a=e.data.provider;a&&Hull.share({provider:a,params:{href:document.location.toString()}})},answer:function(t,e){var a=e.data.questionRef.toString(),n=e.data.answerRef.toString();this.selectAnswer(a,n)},next:function(){this.selectNextQuestion()},previous:function(){this.selectPreviousQuestion()},replay:function(){this.initState(),this.startQuiz()},start:function(t,e){if(this.loggedIn())this.startQuiz();else if(e.data.provider){var a=this;this.sandbox.login(e.data.provider).then(function(){a.startQuiz.call(a)})}}},helpers:{formField:function(t){var e="fields/"+t.field_type;return this.renderTemplate(e,t)},t:function(t,e){return I18n.t(t,e)}},disableForm:function(){this.$("form fieldset").attr("disabled",!0)},enableForm:function(){this.$("form fieldset").attr("disabled",!1)},initialize:function(){this.injectLinkTag("parsley");var t=this.sandbox.util._;this.sandbox.on("ship.update",function(t){this.ship=t,this.initState(),this.initTimer(),this.renderSection(this.currentSection)},this),this.$el.attr("id",this.cid),I18n.fallbacks=!0,I18n.locale=this.options.locale||navigator.language,this.helpers.formField=t.bind(this.helpers.formField,this)},renderSection:function(t,e){this.sandbox.util._;this.currentSection=t||this.currentSection||this.getTemplate(),this.render(this.currentSection,e)},getTemplate:function(t){this.sandbox.util._;return this.loggedIn()?this.state.playing?"question":this.state.badge?t:"intro":"intro"},initState:function(){this.sandbox.util._;return I18n.translations=this.ship.translations,this.state={options:this.getOptions(),playing:!1,currentQuestionIndex:0,answers:{}},this.state.questions=this.getQuestions(),this.initTimer(),this.state},initTimer:function(){this.state.timer={countdowns:{question:this.getOption("question_timer"),quiz:this.getOption("quiz_timer")},timings:{},startedAt:new Date}},getOptions:function(){var t=this.sandbox.util._,e=this.ship.settings||{};return t.extend({},this.defaultOptions,e)},beforeRender:function(t){this.ship=t.ship,this.profileForm=$.extend(!0,{},this.ship.resources["profile-form"]),shipConfig=this.ship.settings;var e=this.sandbox.util._;t.styleNamespace="#"+this.cid,t.quiz=this.quiz=t.ship.resources.quiz,this.state||this.initState(),t.state=this.state,t.question=this.getCurrentQuestion();var a=this.authServices();t.authServices={};var n=this.loggedIn();e.map(a,function(e){t.authServices[e]={linked:n&&n[e]}
}),t.profileFormFields=t.ship.resources["profile-form"].fields_list,t.state.options.text_color_alpha=this.alpha(t.state.options.text_color,.6),t.state.options.background_color_alpha=this.alpha(t.state.options.background_color,0),t.state.options.answer_background_color=this.alpha(t.state.options.text_color,.05),t.state.options.answer_border_color=this.alpha(t.state.options.text_color,.1),t.state.options.answer_background_color_active=this.alpha(t.state.options.text_color,.1),t.state.options.answer_border_color_active=this.alpha(t.state.options.text_color,.2)},afterRender:function(){var t=this.$("form.profile-form");t.length&&t.parsley()},getOption:function(t){return this.state.options[t]},alpha:function(t,e){var a=t.replace("#","");a=a.match(new RegExp("(.{"+a.length/3+"})","g"));for(var n=0;n<a.length;n++)a[n]=parseInt(1===a[n].length?a[n]+a[n]:a[n],16);return"undefined"!=typeof e&&a.push(e),"rgba("+a.join(",")+")"},getQuestions:function(){var t=this.sandbox.util._,e=this,a=(this.quiz.questions||[]).slice(0);this.getOption("sample_questions")>0&&(a=t.sample(a,this.getOption("sample_questions")));var n=a.length,a=t.map(a,function(i,l){var s=l+1;return e.getOption("shuffle_answers")&&(i.answers=t.shuffle(i.answers)),t.extend(i,{pagination:{index:s,total:a.length,next:n+1>s,previous:s>1}})});return a},getQuestion:function(t){return this.state.questions&&this.state.questions[t]},getCurrentQuestion:function(){return this.getQuestion(this.state.currentQuestionIndex)},getNextQuestion:function(){return this.getQuestion(this.state.currentQuestionIndex+1)},getPreviousQuestion:function(){return this.getQuestion(this.state.currentQuestionIndex-1)},startQuiz:function(){return this.state.currentQuestionIndex=0,this.state.playing=!0,this.startTicker(),this.renderSection("question"),this},finishQuiz:function(){var t=this,e=this.state.timer;this.stopTicker();var a=e.finishedAt-e.startedAt;this.quiz&&this.quiz.id&&this.api(this.quiz.id+"/achieve","post",{answers:this.state.answers||[],timing:a},function(e){t.state.playing=!1,t.state.badge=e,t.renderSection("result")})},startTicker:function(){this.ticker=setInterval(this.onTick.bind(this),1e3),this.initTimer()},stopTicker:function(){this.state.timer.finishedAt=new Date,clearInterval(this.ticker)},onTick:function(){if(this.sandbox.stopped)return this.stopTicker();var t=this.state.timer;this.getOption("quiz_timer")&&(t.countdowns.quiz>0?(t.countdowns.quiz-=1,this.onQuizTick(t.countdowns.quiz,this.getOption("quiz_timer"))):0===t.countdowns.quiz&&this.finishQuiz()),this.getOption("question_timer")&&(t.countdowns.question>0?(t.countdowns.question-=1,this.onQuestionTick(t.countdowns.question,this.getOption("question_timer"))):0===t.countdowns.question&&this.selectNextQuestion())},resetQuestionCountdown:function(){var t=this.getOption("question_timer");t&&(this.state.timer.countdowns.question=t,this.onQuestionTick(t,t))},onQuestionTick:function(t,e){var a=t/e*100;this.$find("[data-hull-question-ticker]").css({width:a+"%"})},onQuizTick:function(t,e){var a=t/e*100;this.$find("[data-hull-quiz-ticker]").css({width:a+"%"})},selectNextQuestion:function(){var t=this.getNextQuestion();t?(this.state.currentQuestionIndex+=1,this.resetQuestionCountdown(),this.renderSection("question")):(this.state.playing=!1,this.finishQuiz())},selectPreviousQuestion:function(){var t=this.getPreviousQuestion();t&&(this.state.currentQuestionIndex-=1,this.resetQuestionCountdown(),this.renderSection("question"))},selectAnswer:function(t,e){this.state.answers[t]=e,this.$(".next-step").removeClass("disabled"),this.selectNextQuestion()},injectLinkTag:function(t){if(!this.linkTagInjected&&this.options.injectLinkTag!==!1){var e=document.createElement("link");e.href=this.options.baseUrl+"/"+t+".css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e),this.linkTagsInjected=!0}}});